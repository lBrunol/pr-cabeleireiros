function calculaValorTotal(t,e){var a;return a=e*t,isNaN(a)?0:a}function somaValoresTotais(t){var e=0;return $(t).find(".value").each(function(){e+=deRealParaFloat($(this).text())}),numeroParaMoeda(e)}function apenasNumeros(t){var e=t.keyCode?t.keyCode:t.charCode;return e>47&&e<58||(8==e||9==e||44==e)}function validaTextoInvalido(t){if("undefined"==typeof $(t).attr("data-id"))return void $(t).val("")}function travaDigitacao(t){return!1}function numeroParaMoeda(t){var e=0;t+="",t=t.replace(",","."),t<0&&(t=Math.abs(t),e=1),isNaN(t)&&(t="0"),cents=Math.floor((100*t+.5)%100),t=Math.floor((100*t+.5)/100).toString(),cents<10&&(cents="0"+cents);for(var a=0;a<Math.floor((t.length-(1+a))/3);a++)t=t.substring(0,t.length-(4*a+3))+"."+t.substring(t.length-(4*a+3));return ret=t+","+cents,1==e&&(ret="-"+ret),ret=adicionaReal(ret),ret}function adicionaReal(t){return t="R$ "+t}function retiraReal(t){return t=t.replace("R$ ","")}function deVirgulaParaPonto(t){return t=t.replace(",",".")}function moedaParaNumero(t){return t=t.replace(".",""),t=t.replace(",","."),t=Number.parseFloat(t)}function deRealParaFloat(t){return moedaParaNumero(retiraReal(t))}function atribuiTexto(t,e){$(t).val(e)}$(function(){$(".table-site.-selectable tbody tr").on("click",function(){var t=$(this).closest(".table-site.-selectable"),e=t.hasClass("-multiselectable"),a=$(this).find('.custom-checkbox input[type="checkbox"]'),o=a.prop("checked");e||t.find('tbody .custom-checkbox input[type="checkbox"]').prop("checked",!1),o?a.prop("checked",!1):a.prop("checked",!0)}),$("body").on("click",".delete-row",function(){$(this).parent().parent().remove(),$(".table-services tbody tr").length<=1&&$(".table-services .no-items").show(),$(".total-bruto .value").text(somaValoresTotais($(".table-services")))}),$("body").delegate(".modal-services .btn-add","click",function(){var t=$(this).closest(".modal-services"),e=t.find('input[type="checkbox"]:checked');e.length>0&&(e.each(function(t){var e=$(this).closest("tr");$(".table-services tbody").append("<tr></tr>"),$(".table-services tbody tr:last-child").append("<td>"+e.find("td").eq(0).text()+"</td><td>"+e.find("td").eq(1).text()+"</td><td>"+e.find("td").eq(2).text()+'</td><td><input type="text" class="form-control" onkeypress="return(apenasNumeros(event))" onblur="atribuiTexto($(this),numeroParaMoeda($(this).val()))" /></td></td><td><input type="text" class="form-control" onkeypress="return(apenasNumeros(event))" /></td><td>Carlos da Silva</td><td><button class="btn btn-danger btn-sm delete-row"><span class="icon-trash-empty"></span> Excluir</button></td>'),$(".total-bruto > .value").text(numeroParaMoeda(deRealParaFloat($(".total-bruto > .value").text())+deRealParaFloat(e.find("td").eq(2).text())))}),$(".table-services").find(".no-items").hide())}),$("body").on("click",".modal-clients .btn-add",function(){var t,e=$(this).closest(".modal-clients"),a=e.find('input[type="checkbox"]:checked'),o=$(this).data("target");a.length>0&&(a.each(function(e){var a=$(this).closest("tr");t=a.find(".name-client").text()}),$(o).val(t))}),$(".modal").on("hidden.bs.modal",function(t){$(this).find('input[type="checkbox"]').prop("checked",!1),$(".total-pedido > .value").text(numeroParaMoeda(deRealParaFloat($(".total-bruto > .value").text())-deRealParaFloat($(".desconto-pedido > .value").text())+deRealParaFloat($(".caixinha-pedido > .value").text())))})});